(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{14:function(t,e,n){t.exports={list:"ContactList_list__2-ibm",item:"ContactList_item__1xKC8",btn:"ContactList_btn__3NhYL"}},20:function(t,e,n){t.exports={label:"Filter_label__j1-Rd",input:"Filter_input__3Y3pB"}},61:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(15),o=n.n(r),s=n(9),u=n(10),i=n(12),l=n(11),b=n(3),d=n(6),j=n(7),f=n.n(j),h=n(2),p={fetchContactsRequest:Object(h.b)("contacts/fetch_Request"),fetchContactsSuccess:Object(h.b)("contacts/fetch_Success"),fetchContactsError:Object(h.b)("contacts/fetch_Error"),addContactRequest:Object(h.b)("contacts/add_Request"),addContactSuccess:Object(h.b)("contacts/add_Success"),addContactError:Object(h.b)("contacts/add_Error"),deleteContactRequest:Object(h.b)("contacts/delete_Request"),deleteContactSuccess:Object(h.b)("contacts/delete_Success"),deleteContactError:Object(h.b)("contacts/delete_Error"),changeFilter:Object(h.b)("contacts/changeFilter")},O=n(8),m=n.n(O),C=n(17),v=n(13),x=n.n(v);x.a.defaults.baseURL="http://localhost:3001";var _,g,y=function(){return function(){var t=Object(C.a)(m.a.mark((function t(e){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(p.fetchContactsRequest()),t.prev=1,t.next=4,x.a.get("/contacts");case 4:n=t.sent,c=n.data,e(p.fetchContactsSuccess(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(p.fetchContactsError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},F=function(t){var e=t.name,n=t.number;return function(){var t=Object(C.a)(m.a.mark((function t(c){var a,r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={name:e,number:n},c(p.addContactRequest()),t.prev=2,t.next=5,x.a.post("/contacts",a);case 5:r=t.sent,o=r.data,c(p.addContactSuccess(o)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),c(p.addContactError(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},S=function(t){return function(){var e=Object(C.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p.deleteContactRequest()),e.prev=1,e.next=4,x.a.delete("/contacts/".concat(t));case 4:n(p.deleteContactSuccess(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(p.deleteContactError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},k=n(16),N=function(t){return t.contacts.items},q=function(t){return t.contacts.filter},w={getContacts:N,getFilter:q,getLoading:function(t){return t.contacts.loading},getVisibleContacts:Object(k.a)([N,q],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},E=n(30),R=n(5),L=p.fetchContactsRequest,A=p.fetchContactsSuccess,J=p.fetchContactsError,z=p.addContactRequest,D=p.addContactSuccess,T=p.addContactError,V=p.deleteContactRequest,B=p.deleteContactSuccess,I=p.deleteContactError,M=[],Z="",K=Object(h.c)(M,(_={},Object(b.a)(_,A,(function(t,e){return e.payload})),Object(b.a)(_,D,(function(t,e){return[e.payload].concat(Object(E.a)(t))})),Object(b.a)(_,B,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),_)),Y=Object(h.c)(!1,(g={},Object(b.a)(g,L,(function(){return!0})),Object(b.a)(g,A,(function(){return!1})),Object(b.a)(g,J,(function(){return!1})),Object(b.a)(g,z,(function(){return!0})),Object(b.a)(g,D,(function(){return!1})),Object(b.a)(g,T,(function(){return!1})),Object(b.a)(g,V,(function(){return!0})),Object(b.a)(g,B,(function(){return!1})),Object(b.a)(g,I,(function(){return!1})),g)),P=Object(h.c)(Z,Object(b.a)({},p.changeFilter,(function(t,e){return e.payload}))),U=Object(R.b)({items:K,filter:P,loading:Y}),$=n(1),G=function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget.name;t.setState(Object(b.a)({},n,e.currentTarget.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.existContacts.some((function(e){return e.name===t.state.name}))?alert("".concat(t.state.name," is already in contacts")):t.props.onSubmit(t.state),t.resetInput()},t.resetInput=function(){t.setState({name:"",number:""})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object($.jsxs)("form",{className:f.a.form,onSubmit:this.handleSubmit,children:[Object($.jsxs)("label",{className:f.a.label,children:["Name",Object($.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",className:f.a.input,placeholder:"Jon Jonson",value:e,onChange:this.handleChange,required:!0})]}),Object($.jsxs)("label",{className:f.a.label,children:["Number",Object($.jsx)("input",{className:f.a.input,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",placeholder:"111-11-11",value:n,required:!0,onChange:this.handleChange})]}),Object($.jsx)("button",{type:"submit",className:f.a.btn,children:"Add contact"})]})}}]),n}(c.Component),H=Object(d.b)((function(t){return{existContacts:w.getContacts(t)}}),(function(t){return{onSubmit:function(e){return t(F(e))}}}))(G),Q=n(14),W=n.n(Q),X=function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.contactsForList,n=t.onDeleteContact;return Object($.jsx)($.Fragment,{children:Object($.jsx)("ul",{className:W.a.list,children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object($.jsxs)("li",{className:W.a.item,children:[Object($.jsxs)("p",{className:W.a.info,children:[c,": ",a]}),Object($.jsx)("button",{className:W.a.btn,type:"button",onClick:function(){return n(e)},children:"Delete"})]},e)}))})})}}]),n}(c.Component),tt=Object(d.b)((function(t){return{contactsForList:w.getVisibleContacts(t),isLoadingContacts:w.getLoading(t)}}),(function(t){return{onDeleteContact:function(e){return t(S(e))},fetchContacts:function(){return t(y())}}}))(X),et=n(20),nt=n.n(et),ct=Object(d.b)((function(t){return{value:w.getFilter(t)}}),(function(t){return{onFilterValue:function(e){return t(p.changeFilter(e.currentTarget.value))}}}))((function(t){var e=t.onFilterValue,n=t.value;return Object($.jsx)($.Fragment,{children:Object($.jsxs)("label",{className:nt.a.label,children:["Find contacts by name",Object($.jsx)("input",{className:nt.a.input,type:"text",value:n,onChange:e})]})})})),at=(n(61),function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object($.jsxs)("div",{children:[Object($.jsx)("h1",{children:"Phonebook"}),Object($.jsx)(H,{}),Object($.jsx)("h2",{children:"Contacts"}),Object($.jsx)(ct,{}),Object($.jsx)(tt,{})]})}}]),n}(c.Component)),rt=Object(h.d)(),ot={store:Object(h.a)({reducer:{contacts:U},middleware:rt,devTools:!1})};o.a.render(Object($.jsx)(a.a.StrictMode,{children:Object($.jsx)(d.a,{store:ot.store,children:Object($.jsx)(at,{})})}),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"ContactForm_form__3FJjx",label:"ContactForm_label__3EK0O",input:"ContactForm_input__1ymOz",btn:"ContactForm_btn__3y-dj"}}},[[62,1,2]]]);
//# sourceMappingURL=main.e2310b4f.chunk.js.map